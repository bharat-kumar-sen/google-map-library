<div class="d-flex flex-row justify-content-between flex-wrap py-2">
  <div>
    <h3 class="opacity-50">S locations crud map and marker</h3>
  </div>
</div>

<pre [innerHtml]="locationInfo | json"></pre>

<div class="container-fluid app-user bg-white p-5">
  <div class="row">
    <div class="col-md-10 mx-auto">
      <div class="table-responsive-lg">
        <div id="s_location_crud_google_map"></div>
      </div>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-md-10 mx-auto">
      <form>
        <div class="row mb-3">
          <label for="pac-input" class="col-sm-2 col-form-label fw-bold">Default Location</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" placeholder="Search Box" name="defaultAddress"
              [(ngModel)]="locationInfo.location.default_address" id="defaultAddress">
          </div>
        </div>
        <div class="row mb-3">
          <label for="" class="col-sm-2 col-form-label fw-bold">Coordinates</label>
          <div class="col-sm-10">
            <div class="row">
              <div class="col">
                <input type="text" id="lat" name="lat" class="form-control" placeholder="Latitude" aria-label="First name"
                  readonly [(ngModel)]="locationInfo.location.location_lat">
              </div>
              <div class="col">
                <input type="text" id="lang" name="lang" class="form-control" placeholder="Longitute" aria-label="Last name"
                  readonly [(ngModel)]="locationInfo.location.location_lng">
              </div>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <label for="placeId" class="col-sm-2 col-form-label fw-bold">Google Place ID</label>
          <div class="col-sm-10">
            <input type="text" id="placeId" name="placeId" class="form-control" placeholder="Place ID" readonly
              [(ngModel)]="locationInfo.location.place_Id">
          </div>
        </div>
        <!--   <div class="row mb-3">
          <label for="storeCode" class="col-sm-2 col-form-label fw-bold">Store Code</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="storeCode">
          </div>
        </div> -->
        <div class="row mb-3">
          <label for="Lname" class="col-sm-2 col-form-label fw-bold">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="Lname" name="Lname" [(ngModel)]="locationInfo.location.name" placeholder="Name">
          </div>
        </div>
        <div class="row mb-3">
          <label for="address" class="col-sm-2 col-form-label fw-bold">Address</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="address" name="address" placeholder="Address"
              [(ngModel)]="locationInfo.location.address" readonly>
          </div>
        </div>
        <div class="row mb-3">
          <label for="phoneNumber" class="col-sm-2 col-form-label fw-bold">Phone Number</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Phone"
              [(ngModel)]="locationInfo.location.phoneNum">
          </div>
        </div>
        <div class="row mb-3">
          <label for="internationalPhone" class="col-sm-2 col-form-label fw-bold">International Phone</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="internationalPhone" name="InternationalPhone" placeholder="International Phone"
              [(ngModel)]="locationInfo.location.InternationalPhone">
          </div>
        </div>
        <div class="row mb-3">
          <label for="state" class="col-sm-2 col-form-label fw-bold">State</label>
          <div class="col-sm-10">
            <input type="text" id="state" name="state" class="form-control" placeholder="State"   [(ngModel)]="locationInfo.location.state" readonly>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputCity" class="col-sm-2 col-form-label fw-bold">City</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="inputCity" name="inputCity" placeholder="City" [(ngModel)]="locationInfo.location.city" readonly>
          </div>
        </div>
        <div class="row mb-3">
          <label for="postalCode" class="col-sm-2 col-form-label fw-bold">Postal Code</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="postalCode" name="postalCode"
            placeholder="Postal Code" [(ngModel)]="locationInfo.location.postal_code" readonly>
          </div>
        </div>
        <div class="row mb-3">
          <label for="country" class="col-sm-2 col-form-label fw-bold">Country</label>
          <div class="col-sm-10">
            <input type="text" id="country" class="form-control" name="country"
            placeholder="Country"
              [(ngModel)]="locationInfo.location.country" readonly>
          </div>
        </div>
        <div class="row mb-3">
          <label for="countryCode" class="col-sm-2 col-form-label fw-bold">Country code</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="countryCode" name="countryCode"
            placeholder="Country Code"
              [(ngModel)]="locationInfo.location.country_code" readonly>
          </div>
        </div>
        <button type="submit" class="btn btn-primary" (click)="saveLocationInfo()">
          {{locationInfo.location.id ? 'Edit' : 'Save' }}
        </button>
        <button type="button" class="btn bg-danger delete ms-2" *ngIf="locationInfo.location.id"
        (click)="deleteLocation()">
          <i class="far fa-trash-alt"></i>
        </button>
      </form>
    </div>
  </div>

</div>

<div class="container-fluid">
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-12">
        <h4 class="opacity-50">Locations List</h4>
        <hr />
      </div>
    </div>
  </div>
  <div class="container bg-white py-3 dataDisplaySection">
    <!-- <table [dtOptions]="dtOptions" datatable [dtTrigger]="dtTrigger" -->
    <div class="row mt-5">
      <div class="col-md-12 mx-auto">
        <div class="table-responsive">
          <table id="table" class="table table-bordered table-hover table-striped">
            <thead>
              <tr class="text-nowrap">
                <th>S.No</th>
                <th>ID</th>
                <th>Name</th>
                <th>latitude</th>
                <th>longitute</th>
                <th>Address</th>
                <th>Phone</th>
                <th>international Phone</th>
                <th>City</th>
                <th>State</th>
                <!-- <th>Image</th> -->
                <th>postal Code</th>
                <th>Country</th>
                <th>Country Code</th>
                <th class="text-center">Actions</th>
              </tr>
            </thead>
            <tbody class="text-wrap">
              <tr *ngFor="let location of locationsList; let i=index" (click)="onRowClicked(location);scrollToTop()">
                <th scope="row">{{i+1}}</th>
                <th scope="row">{{location.id}}</th>
                <td>{{location.name}}</td>
                <td>{{location.location_lat}}</td>
                <td>{{location.location_lng}}</td>
                <td>{{location.address}}</td>
                <td>{{location.phoneNum}}</td>
                <td>{{location.InternationalPhone}}</td>
                <!-- <td>
            <img width="75" height="50" [src]="location.marker_image">
          </td> -->
                <td>{{location.city}}</td>
                <td>{{location.state}}</td>
                <td>{{location.postal_code}}</td>
                <td>{{location.country}}</td>
                <td>{{location.country_code}}</td>
                <!-- <td>{{location.createdAt | date:'d/M/yyyy'}}</td> -->
                <td class="text-center">
                  <div class="d-flex justify-content-center">
                    <button type="button" class="btn btn-sm bg-success edit me-1">
                      <i class="far fa-edit"></i></button>
                    <button type="button" class="btn btn-sm bg-danger delete">
                      <i class="far fa-trash-alt"></i>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
